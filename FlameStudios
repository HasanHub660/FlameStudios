local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- GUI Setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "UltraFancySpeedJump"
gui.ResetOnSpawn = false

-- Blur Background (Main Menu)
local blur = Instance.new("Frame", gui)
blur.Size = UDim2.new(0, 280, 0, 260)
blur.Position = UDim2.new(0.5, -140, 0.5, -130)
blur.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
blur.BackgroundTransparency = 0.2
blur.BorderSizePixel = 0
Instance.new("UICorner", blur).CornerRadius = UDim.new(0, 16)
local stroke = Instance.new("UIStroke", blur)
stroke.Color = Color3.fromRGB(70, 70, 90)
stroke.Thickness = 2
stroke.Transparency = 0.2

-- Title
local title = Instance.new("TextLabel", blur)
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "‚öôÔ∏è Speed & Jump Controller"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.new(1, 1, 1)
title.TextSize = 20

-- Dragging Logic
local dragging, offset
blur.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		offset = input.Position - blur.Position
	end
end)
UserInputService.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
end)
UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		blur.Position = UDim2.new(0, input.Position.X - offset.X, 0, input.Position.Y - offset.Y)
	end
end)

-- Get Humanoid
local function getHumanoid()
	local char = player.Character or player.CharacterAdded:Wait()
	local hum = char:WaitForChild("Humanoid")
	hum.UseJumpPower = true
	return hum
end

-- Button Builder
local function createButton(text, positionY, color, callback)
	local btn = Instance.new("TextButton", blur)
	btn.Size = UDim2.new(0.85, 0, 0, 36)
	btn.Position = UDim2.new(0.075, 0, 0, positionY)
	btn.BackgroundColor3 = color
	btn.Text = text
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 16
	btn.AutoButtonColor = false

	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
	local stroke = Instance.new("UIStroke", btn)
	stroke.Thickness = 1
	stroke.Color = Color3.fromRGB(255, 255, 255)
	stroke.Transparency = 0.8

	btn.MouseEnter:Connect(function()
		btn.BackgroundColor3 = color:lerp(Color3.new(1, 1, 1), 0.1)
	end)
	btn.MouseLeave:Connect(function()
		btn.BackgroundColor3 = color
	end)

	btn.MouseButton1Click:Connect(callback)
end

-- Control Buttons
createButton("‚ûï Speed +5", 50, Color3.fromRGB(65, 130, 200), function()
	local hum = getHumanoid()
	hum.WalkSpeed += 5
end)

createButton("‚ûñ Speed -5", 95, Color3.fromRGB(90, 90, 90), function()
	local hum = getHumanoid()
	hum.WalkSpeed = math.max(0, hum.WalkSpeed - 5)
end)

createButton("üîº Jump +10", 140, Color3.fromRGB(60, 180, 100), function()
	local hum = getHumanoid()
	hum.JumpPower += 10
end)

createButton("üîÅ Reset All", 185, Color3.fromRGB(200, 50, 50), function()
	local hum = getHumanoid()
	hum.WalkSpeed = 16
	hum.JumpPower = 50
end)

-- Toggle Button
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.new(0, 40, 0, 40)
toggleBtn.Position = UDim2.new(0, 10, 0, 10)
toggleBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
toggleBtn.Text = "‚öôÔ∏è"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 22
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.AutoButtonColor = false
toggleBtn.ZIndex = 10
Instance.new("UICorner", toggleBtn)

-- Hover effect
toggleBtn.MouseEnter:Connect(function()
	toggleBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
end)
toggleBtn.MouseLeave:Connect(function()
	toggleBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
end)

-- Toggle visibility
local visible = true
toggleBtn.MouseButton1Click:Connect(function()
	visible = not visible
	blur.Visible = visible
end)
